  {{>navbar/nav}}

<div class="grid-container">
    <div class="grid-x grid-padding-x">
      <div class="medium-8 cell">
        <h2>Edit Teams</h2>
      </div>
    </div>
</div>

<!--lIST OF PLAYERS, DELETE BUTTON IS LOCATED NEXT TO EACH PLAYER-->
 <div class="grid-container">
      <div class="grid-x grid-margin-x small-up-2 medium-up-3">
         <div id="edit-team">
         <table class = "player_list">
    
            <tr>
                <th> Name </th>
                <th> Remove from Team </th>
            </tr>

            {{#each teamPlayers}}

            <tr>
                <th>{{playerName}}</th>
                <th><button data-apiId="{{playerId}}" class= "alert button" id="delplayer" data-toggle="example-dropdown-bottom-center" type="button">Delete</button></th>
            </tr>
                
            {{/each}}
        </table>
  </div>
  </div>
  </div>

<!--SAVE CHANGES MADE TO YOUR TEAMS-->
<div class="grid-container">
    <div class="grid-x grid-padding-x">
      <div class="medium-8 cell">
        <h3>Update Your Teams{{this.id}}</h3>
      </div>
    </div>
</div>
  
  <div class="grid-container">
    <div class="grid-x grid-padding-x">
      <div class="medium-8 cell">
        <button class="button" id="updateteams" type="submit" data-toggle="example-dropdown-bottom-center">Update Team!</button>
      </div>
    </div>
</div>
      


<div id = "animation">
    <img src="/assets/img/WNBA.png" class='player'>
    <img src="/assets/img/ball.png" class="basketball">
    {{!-- <img src="/assets/img/basketballgoal.png"class="hoop"> --}}

</div>
<div id="basketball"></div>
<svg xmlns="http://www.w3.org/2000/svg" width="645" height="525" viewBox="0 0 645 525">
  <g id="Ellipse_1" data-name="Ellipse 1" opacity ='0' fill="none" stroke="#707070" stroke-width="1">
    <ellipse cx="222.5" cy="-20.5" rx="322.5" ry="262.5" stroke="none"/>
    <ellipse cx="352.5" cy="-150.5" rx="322" ry="262" fill="none"/>
  </g>
</svg>

<style>
  .basketball{
    position: absolute;
    left: 600px;
    top: 450px;
  }
  .hoop {
    position: absolute;
    right: 530px;
    bottom: 100px;
    
  }
  .player{
    position: absolute;
    left: 400px;
    top: 500px;
  }
</style>





<!--<script src="./js/editTeams.js" type="text/javascript"></script>-->

<script type="text/javascript">

$(document).ready(function (){

const path = anime.path('ellipse');
    anime({
        targets: '.basketball',
        translateY: path('y'),
        translateX: path('x'),
        duration: 5000,
            rotate:{
            value: '1turn',
            easing: 'cubicBezier(.5, .05, .1, .3)'
            },
            easing: 'linear',
            loop: true
    });
  
  var playerDiv = $(".player-list");
  var id = $(this).data("playerid");

  $("#delplayer").on("click", function(event) {
      event.preventDefault();
      console.log("clicked");
      deletePlayer();

  });

  //function deletePlayer(event) {
  //$.ajax("/api/player/:player_id", {
     // type: "DELETE",
      //data: player
     // }).then(function() {
        //console.log("deleted id", id);
        //location.reload();
    // });
 // }


  $("#updateteams").on("click", function(event) {
    event.preventDefault();
    console.log("clicked");

    
    //updateTeam;
  });

  function updateTeam() {
    $.ajax("/api/player/:" + playerid, {
      type: "PUT",
      data: updatedTeam
    }).then(function(){
        console.log("updated id", id);
        location.reload();
    });
  };
  
});  
</script>

<!--<script src="../public/js/editteams.js" type="text/javascript"></script>-->



{{!-- $.get("/api/teamPlayers/", function(data) {
    if (data.length !== 0) {
      for(var i = 0; i < data.length; i++) {

        var row = $("<div>");
        var playerList = $(".player_list");

        row.append("<p>" + data[i].team _id "</p>");
        row.append("<p>" + data[i].player_id "</p>"); 

        $(.player_List).append(row);
      };
    };
  }); --}}



  