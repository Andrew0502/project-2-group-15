<div class= "container">

<div> 
  {{>navbar/nav}}
</div>

<div class= "row">
    <h2>Sign Up</h2>

{{#if message}}
<div class="error">
  <span style="color: red">{{message}}</span>
</div>
{{/if}}

    <form class= "signup">
        <div class= "form-group">
            <label for= "userNameInput">Username</label>
            <input type= "username" class= "form-control" id= "username-input" placeholder= "Username">
        </div>

        <button type="submit" class= "btn btn-default">Sign Up</button>
    </form>

    <br>
        <p>Already a member? Log in <a href="./index.handlebars">here</a></p>

</div>

{{!-- <div id = "animation">
    <img src="basketball.png" class="basketball"></img>
    <img src="hoop.png"class="hoop"></img>

    <script>
        anime({
            targets: 'img.basketball',
                keyframes: [
                    {translateY: -250},
                    {translateX: 475},
                    {translateY: 100},
                    {translateX: 0},
                    {translateY: 0}
                    ],
                duration: 5000,
                easing: 'cubicBezier(.5, .05, .1, .3)',
                loop: true
            });
    </script> --}}
</div>
</div>

<!--CODE HERE FOR NOW-->
<script>
    var signUpForm = $("form.signup");
    var userNameInput = $("input#username-input");

    signUpForm.on("submit", function(event) {
        event.preventDefault();
        var userData= {
        username: userNameInput.val().trim()
        };

        if(!userData.username) {
            return;
        }
        signUpUser(userData.username);
        userNameInput.val("");
    });

    function signUpUser(username) {
        $.post("/api/signup", {
            username: username
        }).then(function(data) {
            window.location.replace("/yourteams");
        }).catch(function(err) {
            console.log(err);
        });
    };

    


</script>